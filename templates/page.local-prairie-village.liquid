<style>
  .local-delivery-checker {
    max-width: 700px;
    margin: 30px auto;
    text-align: center;
  }
  .zip-input {
    width: 100%;
    padding: 10px;
    margin-bottom: 10px;
    border: 1px solid #ddd;
    border-radius: 6px;
  }
  .zip-btn {
    padding: 0px 7px;
    background: #000;
    color: #fff;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 13px;
    height:47px;
  }
  .zip-btn:hover {
    background: #333;
  }
.klaviyo-form-TkuXuU input#email_01K4ART5KGW58V33AK1RD6H4NN {
 border-radius: 6px!important;
 padding: 10px;
    margin-bottom: 10px;
    border: 1px solid #ddd;
    font-size:10px!important;
}
  .klaviyo-form-TkuXuU input#zip_01K4ART5KTJY8CC2B1WX1G31HF{
  border-radius:6px!important;
  padding: 10px;
    margin-bottom: 10px;
    border: 1px solid #ddd;
  }
  div#klaviyoPopup h3{
    font-size: 24px;
    line-height: 34.98px;
    color: #4b5058;
    margin-top: 30px;
    font-weight:400;
  
  }
  .local {
    display:inline-flex;
    gap: 10px;
}

</style>

<div class="local-delivery-checker">
  <p style="font-style: italic;color: red;font-size: 15px;">*Same-Day Delivery on Orders Placed Before 3 PM (Delivered Between 4–7 PM)</p>
  <h2>Check Local Delivery Availability</h2>
<div class="local">
  <input type="text" id="zipCodeInput" placeholder="Enter your ZIP code" class="zip-input" />
  <button id="checkZipBtn" class="zip-btn">Check Local Delivery</button>
  </div>

  <!-- Klaviyo Popup (hidden by default) -->
  <div id="klaviyoPopup" style="display:none; margin-top:20px;">
    <h3>
      Local delivery is currently not available in your area.  
      Please share your email and ZIP code so we can notify you once delivery becomes available at your address.
    </h3>
    <div class="klaviyo-form-TkuXuU"></div>
  </div>
</div>

<script>
  document.getElementById("checkZipBtn").addEventListener("click", function() {
    var zip = document.getElementById("zipCodeInput").value.trim();

    // ✅ Allowed ZIP codes
    var allowedZips = ["64102","64105","64106","64108","64109","64110","64111","64112","64113","64114","64127","64128",
      "64129","64130","64131","64132","64133","64134","64137","64138","64145","64146","66101","66102","66103","66105",
      "66106","66118","66160","66202","66203","66204","66205","66206","66207","66208","66209","66210","66211","66212",
      "66213","66214","66215","66216","66217","66219","66220","66221","66223","66224","66251"];

    if (zip === "") {
      alert("Please enter a ZIP code.");
      return;
    }

    if (allowedZips.includes(zip)) {
      // Redirect to collection page
      window.location.href = "/collections/local-delivery-prairie-village";
    } else {
      // Show Klaviyo popup
      document.getElementById("klaviyoPopup").style.display = "block";
    }
  });
</script>

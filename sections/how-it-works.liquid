<style>
	#shopify-section-{{ section.id }} .how-it-works {
		margin-top: {{ section.settings.margin_top }}px;
		margin-bottom: {{ section.settings.margin_bottom }}px;
	}

	@media screen and (max-width: 768px) {
		#shopify-section-{{ section.id }} .how-it-works {
			margin-top: calc({{ section.settings.margin_top }}px * 0.6);
			margin-bottom: calc({{ section.settings.margin_bottom }}px * 0.6);
		}
	}
</style>

<link rel="stylesheet" href="{{ 'how-it-works.css' | asset_url }}">

<div class="how-it-works" style="background-color: {{ section.settings.bg_color }};">
	<div class="container">
		{% if section.settings.title != blank %}
			<h2 class="how-it-works__title section__title-text">
				{{ section.settings.title }}
			</h2>
		{% endif %}
		<ul class="how-it-works__grid">
			{% for block in section.blocks %}
				<li class="how-it-works__item" {{ block.shopify_attributes }}>
					{% if block.settings.title != blank %}
						<h3 class="title">
							{{ block.settings.title }}
						</h3>
					{% endif %}
					{% if block.settings.copy != blank %}
						<div class="copy">
							{{ block.settings.copy }}
						</div>
					{% endif %}
				</li>
			{% endfor %}
		</ul>
	</div>
</div>

{% schema %}
{
  "name": "How it works",
  "settings": [
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background color"
    },
    {
      "type": "richtext",
      "id": "title",
      "label": "How it works Section Title"
    },
    {
      "type": "header",
      "content": "Section styles"
    },
    {
      "type": "range",
      "id": "margin_top",
      "label": "Section top margin",
      "unit": "px",
      "min": 0,
      "max": 120,
      "step": 2,
      "default": 36
    },
    {
      "type": "range",
      "id": "margin_bottom",
      "label": "Section bottom margin",
      "unit": "px",
      "min": 0,
      "max": 120,
      "step": 2,
      "default": 36
    }
  ],
  "blocks": [
    {
      "type": "step",
      "name": "Step",
      "limit": 3,
      "settings": [
        {
          "type": "richtext",
          "id": "title",
          "label": "Step Title"
        },
        {
          "type": "richtext",
          "id": "copy",
          "label": "Step Copy"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "How it works",
      "blocks": [
        {
          "type": "step"
        },
        {
          "type": "step"
        },
        {
          "type": "step"
        }
      ]
    }
  ]
}
{% endschema %}